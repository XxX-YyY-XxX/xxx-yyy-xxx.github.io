<!DOCTYPE html>
<html>
    <head>
        <script type="module" src="/univasset/scripts/include.js"></script>
        <script type="module">
            import {tableSort, brJoin, nestElements} from '/univasset/scripts/htmlgenerator/htmlgenerator.js';
            import {setattr} from "../univasset/scripts/basefunctions/index.js";
            import {Async} from "/univasset/scripts/externaljavascript.js";

            tableSort(
                document.querySelector("#main_content div"),
                [["Doll Name", "Reference", "Fragments"], ...(await Async.getJSON("./units.json")).slice(0, -1).map(x => [x.name, x.reference, x.fragments])],
                [
                    x => x,
                    x => brJoin(Object.entries(x).filter(([name, link]) => name).map(([name, link]) => setattr(document.createElement("a"), {textContent: name, href: link}))),
                    x => brJoin(x)
                ],
                {frzcol: true, frzhdr: true}
            );
        </script>
        <!-- Typescript files unusable in github. -->

        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/univasset/scripts/externalcss.css">
        
        <!-- Setup theme-color -->

        <!-- start theme color meta headers -->
            <meta name="theme-color" content="#151515">
            <meta name="msapplication-navbutton-color" content="#151515">
            <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <!-- end theme color meta headers -->

        <!-- Setup Google Analytics -->

        <link rel="icon" type="image/png" href="/univasset/images/favicon.png" />

        <title>PNC Units Data | Random Scraps</title>
    </head>

    <style>
        @import "..";

        .func_table {
            height: 95vh;
        }

        /* #region Freeze */
        .freeze-row th {
            background: #1b1b1b !important;
        }

        .freeze-col tr > :first-child {
            border-right: 1px dashed #b5e853;
        }

        .freeze-col tr:nth-child(odd) > :first-child {
            background: #1b1b1b;
        }

        .freeze-col tr:nth-child(even) > :first-child {
            background: #292f20;
        }
        /* #endregion */

        /* #region Sort */
        .func_table th[data-sort="hi"] {
            background: linear-gradient(135deg, #1b1b1b, transparent 50%),
                linear-gradient(-135deg, #1b1b1b, transparent 50%),
                linear-gradient(blue, gray 50%) !important;
        }

        .func_table th[data-sort="lo"] {
            background: linear-gradient(45deg, #1b1b1b, transparent 50%),
                linear-gradient(-45deg, #1b1b1b, transparent 50%),
                linear-gradient(gray 50%, red) !important;
        }
        /* #endregion */
    </style>

    <body>
        <include src="/univasset/scripts/pageheader/header.html" 0="Unit data table"></include>

        <div class="container">
            <section id="main_content">
                <div></div>
            </section>
        </div>
    </body>
</html>