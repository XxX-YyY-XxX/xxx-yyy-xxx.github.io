<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/univasset/scripts/externalcss.css">
        
        <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->
            <!-- Setup theme-color -->

            <!-- start theme color meta headers -->
            <meta name="theme-color" content="#151515">
            <meta name="msapplication-navbutton-color" content="#151515">
            <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
            <!-- end theme color meta headers -->

            <!-- Setup Google Analytics -->

            <link rel="icon" type="image/png" href="/univasset/images/favicon.png" />
        <!-- end custom head snippets -->
        
        <!-- Begin Jekyll SEO tag v2.8.0 -->
        <title>Elites and Non-Elites | GFL</title>
        <meta name="generator" content="Jekyll v3.9.0" />
        <meta property="og:title" content="Random Scraps" />
        <meta property="og:locale" content="en_US" />
        <meta name="description" content="Collection of whatever." />
        <meta property="og:description" content="Collection of whatever." />
        <link rel="canonical" href="https://xxx-yyy-xxx.github.io/" />
        <meta property="og:url" content="https://xxx-yyy-xxx.github.io/" />
        <meta property="og:site_name" content="Random Scraps" />
        <meta property="og:type" content="website" />
        <meta name="twitter:card" content="summary" />
        <meta property="twitter:title" content="Random Scraps" />
        <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","description":"Collection of whatever.","headline":"Random Scraps","name":"Random Scraps","url":"https://xxx-yyy-xxx.github.io/"}</script>
        <!-- End Jekyll SEO tag -->
    </head>

    <body>
        <header>
            <div class="container">
                <a id="a-title" href="/"><h1>Random Scraps</h1></a>
                <h2>List of Elite and Non-elite Units</h2>

                <include src="/univasset/scripts/mainpagebuttons.html"></include>
            </div>
        </header>

        <div class="container">
            <section id="main_content">
                <div id="output">
                    <table>
                        <thead>
                            <tr>
                                <th>Elites</th>
                                <th>Non-Elites</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <script type="text/javascript" src="/univasset/scripts/includefile.js"></script>
        <script>
            var output = document.getElementById('output');
            var tablebody = document.getElementsByTagName('tbody')[0];
            var jsonList = [{}];

            fetch('https://raw.githubusercontent.com/randomqwerty/GFLData/main/en/stc/enemy_character_type.json')
                .then(response => response.json())
                //.then(jsonString => JSON.parse(jsonString))
                .then(jsonObject => {jsonList = jsonObject})

            console.log(jsonList)

            var elite = [];
            var nonelite = [];
            for (const units of jsonList) {
                if (String(units['passive_skill']).includes('200304')) {    //Uncaught TypeError: Cannot read properties of undefined (reading 'includes')
                    nonelite.push(units['code'])
                } else {
                    elite.push(units['code'])
                }
            }


            var rows = "";
            for (const array of zip(elite, nonelite)) {
                rows += `<tr>${array.map(val => `<td>${val}</td>`)}</tr>`;
            }

            tablebody.innerHTML = rows;

            for (let index = 0; index < 10; index++) {
                console.log(['no', 'yes'][index%2 == 0])                
            }



            /** @param {boolean} extend @param {Array[]} arrays*/
            function* zip(...arrays) {
                var length = 0

                for (const item of arrays) {
                    length = Math.max(length, item.length)
                }

                for (const item of arrays) {
                    if (item.length < length) {
                        item.fill('', item.length)
                    }
                }

                for (let index = 0; index < length; index++) {
                    var output = []
                    for (const item of arrays) {
                        output.push(item[index])
                    }
                    yield output
                }
            }

        </script>
    </body>
</html>